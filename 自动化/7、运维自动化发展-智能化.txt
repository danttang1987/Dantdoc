运维自动化发展-智能化

智能化

服务化、api化

Web化、平台化

标准化、工具化


智能化的自动扩容、缩容、服务降级、故障自愈


扩容：
	触发机制--》决策系统--》
				一、Zabbix
	
	触发机制：
	1、当某个集群的访问量超过最大支撑量，比如10000
	2、并持续5分钟
	3、不是攻击
	4、资源池有可用资源
		当前网络带宽使用率
		公有云--钱够不
	5、当前后端服务支撑量是否超过阈值，
	6、数据库是否可支撑当前并发
	7、当前队列是否有正在扩容的节点
	8、其他业务相关的
			
			先判断缓冲区中是否有最近移出的虚拟机，并查询软件版本是否和当前版本一致(如一致路过二、三、四)，如不一致跳过二、三
				二、openstack 创建虚拟机
				
				三、saltstack配置环境
				
				四、部署系统部署当前代码
				
				五、测试服务是否可用（注意间隔和次数、测试失败  sleep 30秒  在测试  如失败在sleep 30秒 在测试，如失败 在sleep 30秒，在测试）
				
				六、加入集群
				
				七、通知（短信、邮件）
				

自动化缩容：
	1、触发条件和决策
	2、从集群中移出节点
	3、通知
	4、将节点放到缓冲区，保留一断时间（一天）
	5、缓冲区中超过一天的虚拟机自动关闭，存放于待删除区
	6、待删除区的虚拟机，每7天清理已经关机的虚拟机。
	

				
				
				
				
	
	
	
	